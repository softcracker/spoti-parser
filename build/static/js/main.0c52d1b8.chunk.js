(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(58)},35:function(e,t,a){},54:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(22),l=a.n(s),o=(a(35),a(5)),c=a.n(o),u=a(10),i=a(23),p=a(24),m=a(29),d=a(25),h=a(28),f=a(11),w=a.n(f),g=a(60),E=a(61),v=a(62),x=a(63),k=a(64),b=(a(54),"https://spoti-api.herokuapp.com/"),y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={input:"",inputPlaceholder:"Accepted format:\n\nhallo : welt | DE \nhello : world | EN\nbonjour : monde | FR",amount:"?",email:"",password:"",token:null,authenticated:!1,loginMessage:"Login data:",cluster:"user/"},a.componentDidMount=Object(u.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,a.getAmount(t);case 3:null!==(n=e.sent)&&200===n.status&&a.setState({token:t,authenticated:!0});case 5:case"end":return e.stop()}},e)})),a.parser=function(e){try{var t=[];return e.toString().split("\n").forEach(function(e){var a=e.indexOf("|"),n=e.substring(0,a).split(":"),r={username:n[0].trim(),password:n[1].trim()};t.push(r)}),t}catch(a){return console.log(a),null}},a.sendData=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=a.parser(a.state.input)))try{n.map(function(e){return w.a.post(b+a.state.cluster,e,{headers:{authorization:"Bearer "+t}})}),a.setState({inputPlaceholder:"Sending was successful.",input:""})}catch(r){a.setState({inputPlaceholder:"Error occured.",input:""})}else a.setState({inputPlaceholder:"Invalid input.",input:""});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getAmount=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(b+a.state.cluster+"number",{headers:{authorization:"Bearer "+t}});case 3:return 200===(n=e.sent).status&&a.setState({amount:n.data.Number}),e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.login=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post(b+a.state.cluster+"auth",{email:a.state.email,password:a.state.password});case 3:200===(t=e.sent).status?(a.setState({token:t.data.data.token,authenticated:!0,password:"",email:""}),localStorage.setItem("token",t.data.data.token)):(a.setState({password:"",email:"",loginMessage:"Invalid input."}),console.log(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a.setState({password:"",email:"",loginMessage:"Error occured."}),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),a.deleteAll=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.delete(b+a.state.cluster,{headers:{authorization:"Bearer "+t}});case 3:return e.next=5,a.getAmount(a.state.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),a.selectDB1=function(){return a.setState({cluster:"user/"})},a.selectDB2=function(){return a.setState({cluster:"user2/"})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(g.a,{className:"App-form"},r.a.createElement("p",null,this.state.loginMessage),r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:12,style:{marginBottom:10}},r.a.createElement(x.a,{style:{height:40,width:"100%"},type:"text",name:"text",value:this.state.email,placeholder:"email",id:"exampleText",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(v.a,{xl:12},r.a.createElement(x.a,{style:{height:40,width:"100%"},type:"password",name:"password",value:this.state.password,placeholder:"password",id:"examplePwd",onChange:function(t){return e.setState({password:t.target.value})}}))),r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:12},r.a.createElement(k.a,{onClick:this.login},"Login")))),a=r.a.createElement(n.Fragment,null,r.a.createElement(g.a,{className:"App-form"},r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:6},r.a.createElement("p",null,"Selected databse:")),r.a.createElement(v.a,{xl:3},r.a.createElement(k.a,{outline:!0,color:"secondary",onClick:this.selectDB1,active:"user/"===this.state.cluster},"DB 1")),r.a.createElement(v.a,{xl:3},r.a.createElement(k.a,{outline:!0,color:"secondary",onClick:this.selectDB2,active:"user2/"===this.state.cluster},"DB 2")))),r.a.createElement(g.a,{className:"App-form"},r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:6},r.a.createElement("p",null,"Amount of data: ",this.state.amount))),r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:6},r.a.createElement(k.a,{style:{marginBottom:"20px"},onClick:function(){return e.getAmount(e.state.token)}},"Refresh")),r.a.createElement(v.a,{xl:6},r.a.createElement(k.a,{color:"danger",onClick:function(){return e.deleteAll(e.state.token)}},"Delete all"))),r.a.createElement("p",null,"New data:"),r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:12},r.a.createElement(x.a,{style:{height:300,width:"100%"},type:"textarea",value:this.state.input,name:"text",placeholder:this.state.inputPlaceholder,id:"exampleText",onChange:function(t){return e.setState({input:t.target.value})}}))),r.a.createElement(E.a,{row:!0},r.a.createElement(v.a,{xl:12},r.a.createElement(k.a,{onClick:function(){return e.sendData(e.state.token)}},"Submit")))));return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},this.state.authenticated?a:t))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.0c52d1b8.chunk.js.map